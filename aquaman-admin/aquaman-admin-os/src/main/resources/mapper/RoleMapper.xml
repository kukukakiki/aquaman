<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.aquaman.security.admin.mapper.RoleMapper">    <resultMap id="ResultRoleMenuVOMap" type="com.aquaman.security.admin.entity.dto.RoleMenuDTO">        <id column="id" jdbcType="BIGINT" property="id" />        <result column="role_menu_id" jdbcType="BIGINT" property="roleMenuId" />        <result column="code" jdbcType="VARCHAR" property="code" />        <result column="name" jdbcType="VARCHAR" property="name" />        <result column="status" jdbcType="VARCHAR" property="status" />        <result column="menu_ids" jdbcType="VARCHAR" property="menuIds" />    </resultMap>    <resultMap id="ResultRole" type="com.aquaman.security.admin.entity.domain.Role">        <id column="id" jdbcType="BIGINT" property="id" />        <result column="code" jdbcType="VARCHAR" property="code" />        <result column="name" jdbcType="VARCHAR" property="name" />        <result column="status" jdbcType="VARCHAR" property="status" />        <result column="permission_code" jdbcType="VARCHAR" property="permissionCode" />    </resultMap>    <resultMap id="ResultRoleDTO" type="com.aquaman.security.admin.entity.dto.RoleDTO">        <id column="id" jdbcType="BIGINT" property="id" />        <result column="code" jdbcType="VARCHAR" property="code" />        <result column="name" jdbcType="VARCHAR" property="name" />        <result column="status" jdbcType="VARCHAR" property="status" />        <result column="permission_code" jdbcType="VARCHAR" property="permissionCode" />        <result column="user_role_id" jdbcType="BIGINT" property="userRoleId" />    </resultMap>    <select id="findRoleMenuIdsById" parameterType="java.lang.Long" resultMap="ResultRole">        select        ar.id, ar.code, ar.name, ar.status, arm.id as role_menu_id, arm.menu_ids        from ad_role ar, ad_role_menu arm        where ar.id = arm.role_id and ar.id=#{id,jdbcType=BIGINT} and ar.is_deleted = 0    </select>    <select id="findRoleByUserId" parameterType="java.lang.Long" resultMap="ResultRoleDTO">        SELECT            t.id, t.code, t.name, t.status, t.permission_code, ur.id as user_role_id        FROM            ad_role t,            ad_user u,            ad_user_role ur        WHERE            t.status = 'start' and            ur.user_id = u.id and            u.id = #{id,jdbcType=BIGINT} and            FIND_IN_SET(t.id, ur.role_ids) and            t.is_deleted = 0    </select></mapper>